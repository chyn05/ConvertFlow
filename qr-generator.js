document.addEventListener('DOMContentLoaded',function(){const txt=document.getElementById('qrText');const btn=document.getElementById('generateQrButton');const container=document.getElementById('qrContainer');const dl=document.getElementById('downloadQrLink');btn&&btn.addEventListener('click',()=>{container.innerHTML='';dl.style.display='none';if(!txt.value.trim()) return alert('Enter text');new QRCode(container,{text:txt.value,width:220,height:220});setTimeout(()=>{const c=container.querySelector('canvas');if(c) c.toBlob(b=>{dl.href=URL.createObjectURL(b);dl.style.display='inline-block';});else{const i=container.querySelector('img');if(i){dl.href=i.src;dl.style.display='inline-block';}}},300);});});