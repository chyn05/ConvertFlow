const pdfjsLib=window['pdfjsLib'];pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';document.addEventListener('DOMContentLoaded',function(){const left=document.getElementById('cmpLeft');const right=document.getElementById('cmpRight');const btn=document.getElementById('cmpRenderBtn');const area=document.getElementById('cmpArea');btn&&btn.addEventListener('click',async()=>{area.innerHTML='';if(!left.files[0]||!right.files[0]) return;const leftBuf=await left.files[0].arrayBuffer();const rightBuf=await right.files[0].arrayBuffer();const lpdf=await pdfjsLib.getDocument({data:leftBuf}).promise;const rpdf=await pdfjsLib.getDocument({data:rightBuf}).promise;const lp=await lpdf.getPage(1);const rp=await rpdf.getPage(1);const lvp=lp.getViewport({scale:1});const rvp=rp.getViewport({scale:1});const lscale=Math.min(300/lvp.width,400/lvp.height);const rscale=Math.min(300/rvp.width,400/rvp.height);const lrv=lp.getViewport({scale:lscale});const rrv=rp.getViewport({scale:rscale});const lc=document.createElement('canvas');lc.width=lrv.width;lc.height=lrv.height;await lp.render({canvasContext:lc.getContext('2d'),viewport:lrv}).promise;const rc=document.createElement('canvas');rc.width=rrv.width;rc.height=rrv.height;await rp.render({canvasContext:rc.getContext('2d'),viewport:rrv}).promise;area.appendChild(lc);area.appendChild(rc);});});